--- 
title: "Assistant de voyage personnel"
author: "Ines VAZ, Kanto RALANTOMALALA, Lucas RAKOTOMALALA"
date: "2026-01-10"
output:
  slidy_presentation: default
  ioslides_presentation: default
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```
## ğŸŒ PrÃ©sentation du projet

### ğŸ¯ Objectifs

Lâ€™objectif du projet est de dÃ©velopper une **application interactive de recommandation de destinations touristiques**.

Lâ€™application sâ€™appuie sur un **systÃ¨me de scoring multicritÃ¨re** afin dâ€™identifier les destinations offrant le meilleur niveau dâ€™adÃ©quation avec le profil du voyageur.

## ğŸ’¡ MÃ©thodologie 
Le fonctionnement de lâ€™application repose sur une approche en 5 Ã©tapes :

1. Collecte et traduction des prÃ©fÃ©rences utilisateur
2. Attribution dâ€™un score Ã  chaque destination  
3. Classement et sÃ©lection des **3 meilleures destinations**  
4. Affichage des rÃ©sultats sous forme de tableau  
5. Application dâ€™un filtrage strict si nÃ©cessaire

## ğŸ—„ï¸ Base de donnÃ©es
Les donnÃ©es proviennent dâ€™un fichier CSV collectÃ© sur le site Kaggle regroupant plusieurs destinations touristiques caractÃ©risÃ©es par:

- Le type de voyage  
- Le climat  
- Les activitÃ©s proposÃ©es 
- Les pÃ©riodes recommandÃ©s
- Le niveau de frÃ©quentation 
- Le type dâ€™accompagnants

## ğŸ—„ï¸ Base de donnÃ©es

```{r, echo=FALSE, out.width="95%", fig.align="center"}
knitr::include_graphics("~/Library/CloudStorage/OneDrive-etu.unistra.fr/MASTER MPE/S1/analyse des donneÌes/Capture dâ€™eÌcran tableau.png")
```

## Librairies et Dictionnaires de traductions ğŸ“š
- **Shiny** : interface web interactive
- **Shinythemes** : thÃ¨mes graphiques pour amÃ©liorer le design 

Des **dictionnaires de traductions** sont utilisÃ©s pour assurer la correspondance entre les choix de l'utilisateur et des donnÃ©es. 

```{r,eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}

trad_cat <- c("Aventure" = "adventure", "Plages" = "beaches", "Culture" = "culture", 
              "DÃ©sert" = "desert", "ForÃªt" = "forest", "Ãles" = "islands", "Montagnes" = "mountains")
trad_comp <- c("En couple" = "couple", "En famille" = "family", "Entre amis" = "friends", "Seul(e)" = "solo")
trad_clim <- c("Froid/Doux" = "cold/mild", "Chaud/Sec" = "hot/dry", "Humide" = "humid", 
               "Doux" = "mild", "Tropical" = "tropical", "Tropical/Chaud" = "tropical/warm", "Variable" = "variable")
trad_frequent <- c("AnimÃ©" = "lively", "ModÃ©rÃ©" = "Moderate", "Calme" = "quiet")
trad_mois <- c("Janvier" = "January", "FÃ©vrier" = "February", "Mars" = "March", "Avril" = "April", 
               "Mai" = "May", "Juin" = "June", "Juillet" = "July", "AoÃ»t" = "August", 
               "Septembre" = "September", "Octobre" = "October", "Novembre" = "November", "DÃ©cembre" = "December")
trad_act <- c("Balades en bateau" = "boat rides", "Promenades Ã  chameau" = "camel rides", 
              "Parcours historiques" = "heritage walks", "RandonnÃ©e" = "hiking", 
              "Visites de musÃ©es" = "museum tours", "Marches en pleine nature" = "nature walks", 
              "Parapente" = "paragliding", "Rafting" = "rafting", "Sandboarding" = "sandboarding", 
              "Snorkeling" = "snorkeling", "Baignade" = "swimming", "Trekking" = "trekking", 
              "Safari photo" = "wildlife safari")

```


## ğŸ’» Questions posÃ©es Ã  l'utilisateur 
 GrÃ¢ce Ã  notre programme, l'utilisateur pourra renseigner le questionnaire: 
```
Quel type de voyage souhaitez-vous faire ?
Avec qui comptez-vous partir ?
A quelle pÃ©riode souhaitez-vous voyager ? 
Quel climat prÃ©fÃ©rez-vous pour votre voyage ?
Quel niveau de frÃ©quentation touristique Ãªtes-vous prÃªt(e) Ã  accepter ? 
Quelle activitÃ© est la plus importante pour vous pendant ce voyage ?
```
Ces informations constituent le **profil de voyage** utilisÃ© par le moteur de recommandation. 

## ğŸ–¥ï¸ Interface utilisateur (UI)
Lâ€™interface utilisateur est organisÃ©e en deux parties :

- **Panneau latÃ©ral** : saisie des prÃ©fÃ©rences de voyage (type de voyage, climat, activitÃ©, etc.)
- **Panneau principal** : affichage des destinations recommandÃ©es et des filtres avancÃ©s

Cette application a Ã©tÃ© dÃ©velopÃ©e avec **Shiny**.

## ğŸ–¥ï¸ Interface utilisateur (UI)
### **Panneau latÃ©ral:**
```{r, echo=FALSE, out.width="95%", fig.align="center"}
knitr::include_graphics("~/Library/CloudStorage/OneDrive-etu.unistra.fr/MASTER MPE/S1/analyse des donneÌes/Capture ex2.png")
```

## ğŸ–¥ï¸ Interface utilisateur (UI)

```{r,eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}

ui <- fluidPage(
  theme = shinytheme("flatly"),
  
  titlePanel("ğŸŒ Assistant Voyage Personnel"),
  
  sidebarLayout(
    sidebarPanel(
      h4("âœˆï¸ Vos prÃ©fÃ©rences"),
      selectInput("cat","Type de voyage :",choices=names(trad_cat)),
      selectInput("comp","Accompagnants :",choices=names(trad_comp)),
      selectInput("mois","Mois de dÃ©part :",choices=names(trad_mois)),
      selectInput("clim","Climat prÃ©fÃ©rÃ© :",choices=names(trad_clim)),
      selectInput("freq","FrÃ©quentation :",choices=names(trad_frequent)),
      selectInput("act","ActivitÃ© favorite :",choices=names(trad_act)),
      actionButton("go","Trouver ma destination âœˆï¸",class="btn-success",width="100%")
    ),
    
    mainPanel(
      h3("ğŸï¸ Nos suggestions pour vous"),
      uiOutput("message_vide"),
      tableOutput("resultats"),
      uiOutput("prio_ui")
    )
  )
)
```


## âš™ï¸ Serveur 
### Variable qui stocke les rÃ©sultats
```{r,eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}
server <- function(input, output, session) {
  valeurs <- reactiveValues(top_voyages=NULL, scores=NULL)
    observeEvent(input$go, {
```

## âš™ï¸ Serveur 

Chaque destination est Ã©valuÃ©e Ã  partir dâ€™un systÃ¨me de score multicritÃ¨re.
Ã€ chaque critÃ¨re satisfait correspond un point, ce qui conduit Ã  un score maximal de 6 par destination.

```{r,eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}
scores <- rep(0, nrow(donnees))

scores <- scores + (tolower(donnees$category) == req_cat)
scores <- scores + (tolower(donnees$companions) == req_comp)
scores <- scores + (tolower(donnees$climate) == req_clim)
scores <- scores + (tolower(donnees$crowd_level) == req_freq)
scores <- scores + grepl(req_mois, donnees$best_months, ignore.case = TRUE)
scores <- scores + grepl(req_act, donnees$activities, ignore.case = TRUE
                        
```
Ce score est ensuite converti en taux dâ€™adÃ©quation afin de fournir Ã  lâ€™utilisateur une interprÃ©tation claire du niveau de compatibilitÃ©.

## âš™ï¸ Serveur
Les destinations sont ensuite classÃ©es selon leur score, et les trois meilleures sont retenues comme recommandations principales.
```{r,eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}
top_indices <- order(scores, decreasing = TRUE)[1:3]
res <- donnees[top_indices, ]
#Calcul du taux d'adÃ©quation en pourcentage
res$Adequation <- paste0(round((scores[top_indices] / 6) * 100), "%")
```

## ğŸ” Filtres 
La fonctionnalitÃ© filtre est activÃ©e lorsque l'utilisateur n'est pas satisfait des destinations proposÃ©es dans le Top 3.
```{r,eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}
#VÃ©rifie si une destination (idx) respecte un critÃ¨re donnÃ©e (num) 
verifier <- function(idx, num) {
  if (num == 1) return(tolower(donnees$category[idx]) == trad_cat[input$cat])
  if (num == 2) return(tolower(donnees$companions[idx]) == trad_comp[input$comp])
  if (num == 3) return(grepl(trad_mois[input$mois], donnees$best_months[idx], ignore.case = TRUE))
  if (num == 4) return(tolower(donnees$climate[idx]) == trad_clim[input$clim])
  if (num == 5) return(tolower(donnees$crowd_level[idx]) == trad_frequent[input$freq])
  if (num == 6) return(grepl(trad_act[input$act], donnees$activities[idx], ignore.case = TRUE))
  return(TRUE)
}
```

## ğŸ” Filtres 
Elle applique simultanÃ©ment deux critÃ¨res prioritaires selon les prÃ©fÃ©rences de l'utilisateur. 
```{r,eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}
    strict <- sapply(
      1:nrow(donnees),
      function(i)
        verifier(i, as.numeric(input$crit1)) &&
        verifier(i, as.numeric(input$crit2))
    )
```

## Limitesâ—
- Les rÃ©sultats dÃ©pendent fortement de la **qualitÃ© et de la richesse de la base de donnÃ©es**.
- Aucune **contrainte budgÃ©taire** nâ€™est prise en compte.
- Lâ€™utilisateur ne peut sÃ©lectionner **quâ€™une seule option par critÃ¨re**.
- Il nâ€™est pas possible dâ€™Ãªtre **indiffÃ©rent** ou de ne pas exprimer de prÃ©fÃ©rence.
- **Tous les critÃ¨res ont le mÃªme poids** 

## Perspectives d'amÃ©lioration ğŸ“Œ
- IntÃ©gration de **contraintes budgÃ©taires** et de la **durÃ©e du sÃ©jour**.
- **Enrichissement de la base de donnÃ©es** pour amÃ©liorer la pertinence des recommandations.
- Proposition dâ€™options de **transport ou de vols** adaptÃ©es Ã  la destination.

## DÃ©monstration âœˆï¸
Nous allons vous faire une dÃ©monstration de notre application
```{r,  eval=FALSE, echo=TRUE, message=FALSE, warning=FALSE}
shinyApp(ui, server)
```

```{r, echo=FALSE, out.width="95%", fig.align="center"}
knitr::include_graphics("~/Library/CloudStorage/OneDrive-etu.unistra.fr/MASTER MPE/S1/analyse des donneÌes/Capture ex.png")
```